回路が全然分からなくなってきた。

何故モータードライバーは必要なのか？
→
・モーターの回転方向を制御する
・PWMでモーターの回転速度を制御
・マイコンの出力は許容電流が少なく、直接制御すると大電流を要するモータは動作できなかったり過電流となるおそれがある
・電源断後のモータによる逆起電力でマイコンが故障するおそれがある

モーターの電源系統？

マイコン(RX220)の出力許容電圧値は、
通常出力時でも4mA
高出力時には16mA

逆起電圧(サージ)とは、コイルを使用した誘導性の負荷状態でOFFした際に負荷から発生する逆方向起電圧のこと。

--------------------------------------------
マイコンを使った回路での電流計算が分からない

・ちゃんと電流は足りるのか？
・マイコンが燃えないか？(逆にどうやったら燃える？)
→定格以上の出力電流出したら燃える？
→電流が逆流する？
・要求電流が高すぎてすぐにバッテリーが切れてしまわないか？

電圧降下とか…

論理回路におけるオームの法則？


過電圧に並ぶメジャーな壊し方として、「過電流を流す」という方法があります。

例えばモーターを回そうと思ったとき、
その大きさにもよりますが、時には1A以上の電流が必要になります。
RasPiのGPIOが出力可能な最大電流が50mAという事を考えると、1Aというのはかなり大きな電流で、一瞬でパイが焼きあがってしまいます。
供給能(定格)を超えた電流を引き出そうとして電源が焼ける

過電流対策
　マイコンには消費電流が大きいものを繋がない
少量のLEDくらいにしておく
基本的に外部電源を使用するドライバ回路を使う

　マイコンの1ピンあたりの上限電流値程度まで電流を制限できる微小定電流源をマイコンの電源にする
直流安定化電源をショートさせても、定電流モードになって焼けないのと原理は一緒
しかし、そんな便利に使えるものがあるのかどうか
そもそもマイコンが動かなくなるのでは？

　出力ピンにはゲート抵抗をつける
MOSFETが焼けてGND直結となったとしても、ゲート抵抗が負荷になって焼けるほどの電流が流れないようにできる

　電流制限抵抗を付ける
ゲート抵抗と実質同じ効果

　極小のヒューズを使う
20mAとか32mAのヒューズがあるみたい

現実問題として、マイコンにヒューズなんていちいち使ってられるか！！！！とは思う

過電圧対策
モーターや電磁石があるときはサージキラーを入れる
フォトカプラ等を用いて絶縁

https://monoist.itmedia.co.jp/mn/articles/1603/04/news042.html


